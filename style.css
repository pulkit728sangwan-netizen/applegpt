
/* layout */
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:linear-gradient(#e6f9ff,#cfefff)}
.wrap{display:flex;justify-content:center;align-items:flex-end;min-height:100vh;padding-bottom:18px}
.stage{width:1000px;max-width:96vw}

/* svg responsive */
#scene{width:100%;height:auto;display:block}

/* seed open animation helpers (JS toggles classes) */
.seed-open-left { transform-origin: 500px 520px; /* center-based via JS */ animation: seedOpenLeft 700ms ease-out forwards; }
.seed-open-right { transform-origin: 500px 520px; animation: seedOpenRight 700ms ease-out forwards; }

@keyframes seedOpenLeft {
  to { transform: translate(-18px,-10px) rotate(-48deg); opacity:1; }
}
@keyframes seedOpenRight {
  to { transform: translate(18px,-10px) rotate(48deg); opacity:1; }
}

/* sprout path draw via dashoffset animation (JS sets dasharray/dashoffset) */

/* stem grow (JS will set height) */

/* crown reveal and branch extend */
.crown-show { animation: crownShow 700ms ease-out forwards; }
@keyframes crownShow { from { opacity:0; transform:translateY(10px);} to { opacity:1; transform:translateY(0);} }

/* leaf pop */
.leaf-pop { animation: leafPop 520ms cubic-bezier(.2,.9,.2,1) forwards; }
@keyframes leafPop {
  0% { transform: scale(0.12) rotate(var(--rot)); opacity:0; }
  70% { transform: scale(1.06) rotate(calc(var(--rot) + 2deg)); opacity:1; }
  100% { transform: scale(1) rotate(var(--rot)); opacity:1; }
}

/* bud and apple grow */
.bud-pop { animation: budPop 600ms ease-out forwards; }
@keyframes budPop { from { transform: scale(0); opacity:0 } to { transform: scale(1); opacity:1 } }

.apple-grow { animation: appleGrow 700ms cubic-bezier(.2,.9,.2,1) forwards; }
@keyframes appleGrow { 0%{ transform: scale(0.02); opacity:0 } 80%{ transform: scale(1.08); opacity:1 } 100%{ transform: scale(1); opacity:1 } }

/* apple fall handled via JS by animating translateY and rotate; final transform will hide it */

/* impact shadow pop */
.impact-pop { animation: impactPop 520ms ease-out forwards; }
@keyframes impactPop {
  0% { transform: scale(0.6); opacity:0; }
  60% { transform: scale(1.05); opacity:0.86; }
  100% { transform: scale(0.9); opacity:0.6; }
}

/* tiny ground seed pop */
.ground-seed-pop { animation: tinyPop 420ms ease-out forwards; }
@keyframes tinyPop { 0%{ transform: scale(0); opacity:0 } 70%{ transform: scale(1.18); opacity:1 } 100%{ transform: scale(1); opacity:1 } }

/* small responsive tweak */
@media (max-width:720px){
  .stage{transform:scale(0.82)}
}

